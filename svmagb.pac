function FindProxyForURL(url, host) { //localhost e rede vai direto: if (isInNet(dnsResolve(host), "10.0.0.0", "255.0.0.0")) {return "DIRECT";} if (localHostOrDomainIs(host,"127.0.0.1")) { return "DIRECT";} if (url.substring(0, 10) == "http://10.") { return "DIRECT";} if (url.substring(0, 18) == "http://192.168.91.") { return "DIRECT";} if (url.substring(0, 9) == "ftp://10.") { return "DIRECT";} if (url.substring(0, 17) == "ftp://187.61.23.8") { return "DIRECT";} if (url.substring(0, 11) == "https://10.") { return "DIRECT";} if (url.substring(0, 16) == "http://localhost") { return "DIRECT";} if (dnsDomainIs(host,"prodam") &&!dnsDomainIs(host,"prodam.sp.gov.br")) { return "DIRECT";} if (Right(host,6).toLowerCase() == "prodam") { return "DIRECT"; } if (dnsDomainIs(host,"portalprodam")) { return "DIRECT";} if (Right(host,12).toLowerCase() == "portalprodam") { return "DIRECT"; } if (dnsDomainIs(host,"pmsp") &&!dnsDomainIs(host,"pmsp.")) { return "DIRECT";} if (Right(host,4).toLowerCase() == "pmsp") { return "DIRECT"; } if (dnsDomainIs(host,"rede.sp")) { return "DIRECT";} if (Right(host,7).toLowerCase() == "rede.sp") { return "DIRECT"; } if (url.substring(0, 10) == "http://10.") { return "DIRECT";} if (url.substring(0, 13) == "http://mvshod") { return "DIRECT";} if (url.substring(0, 15) == "http://sigpecrh") { return "DIRECT";} if (isPlainHostName(host)) { return "DIRECT";} //casos especiais : if (dnsDomainIs(host,"pubnet.imprensaoficial.com.br")) {return "DIRECT";} if ((dnsDomainIs(host,"orkut.com")) || (dnsDomainIs(host,"orkut.com.br"))) { return "PROXY 10.10.40.11:80"; } if (dnsDomainIs(host,"youtube.com")) { return "PROXY 10.10.40.11:80"; } //if (dnsDomainIs(host,"geoftp.ibge.gov.br")) // { return "PROXY 10.10.40.11:80"; } if (dnsDomainIs(host,"twitter.com") || dnsDomainIs(host,"twitterbrasil.org") || dnsDomainIs(host,"twitbrasil.org")) { return "PROXY 10.10.40.11:80"; } //----> sรณ alterar esta linha, com o IP do proxy remoto <----| { return "PROXY 10.10.190.25:3128"; } } function Left(str, n){ if (n <= 0) return ""; else if (n > String(str).length) return str; else return String(str).substring(0,n); } function Right(str, n){ if (n <= 0) return ""; else if (n > String(str).length) return str; else { var iLen = String(str).length; return String(str).substring(iLen, iLen - n); } }